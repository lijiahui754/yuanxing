# 博物馆预约系统 - 原型规范文档

## 📋 目录
1. [项目概述](#项目概述)
2. [设计规范](#设计规范)
3. [页面结构与导航](#页面结构与导航)
4. [页面详细规范](#页面详细规范)
5. [数据结构](#数据结构)
6. [交互规范](#交互规范)

---

## 项目概述

### 系统简介
博物馆预约系统是一款移动端优先的文博场馆预约管理平台，提供完整的用户注册登录、场馆预约、活动浏览、公告查看、个人信息管理等功能。

### 技术栈
- **前端框架**: React 18 + TypeScript
- **样式方案**: Tailwind CSS v4.0
- **UI组件**: 自定义组件 + Lucide React 图标
- **状态管理**: React Hooks (useState)
- **通知提示**: Sonner Toast

### 设备适配
- **主要设备**: 移动端（最大宽度 448px / max-w-md）
- **响应式设计**: 支持移动端竖屏显示
- **交互方式**: 触摸优先，支持鼠标滚轮

---

## 设计规范

### 颜色系统

#### 主色调
| 用途 | 颜色名称 | Tailwind类 | 色值 | 应用场景 |
|------|---------|-----------|------|---------|
| 主题蓝 | Blue 600 | `bg-blue-600` | #2563EB | 主页、个人中心背景渐变 |
| 主题深蓝 | Blue 700 | `bg-blue-700` | #1D4ED8 | 渐变终点色、按钮hover |
| 天蓝色 | Sky 500 | `bg-sky-500` | #0EA5E9 | 登录注册页面背景 |
| 紫色 | Purple 600-800 | `bg-purple-600` | #9333EA | 注册页面（已废弃，改用天蓝） |

#### 辅助色
| 颜色 | Tailwind类 | 应用场景 |
|------|-----------|---------|
| 成功绿 | `bg-green-500` | 预约成功状态 |
| 警告橙 | `bg-orange-500` | 待使用状态 |
| 错误红 | `bg-red-500` | 已取消、退出登录按钮 |
| 灰色50 | `bg-gray-50` | 页面背景色 |
| 灰色100-900 | `bg-gray-100` ~ `bg-gray-900` | 文字、边框、卡片 |

#### 语义色彩
- **主要文字**: `text-gray-900` (#111827)
- **次要文字**: `text-gray-700` (#374151)
- **辅助文字**: `text-gray-500` (#6B7280)
- **禁用文字**: `text-gray-400` (#9CA3AF)
- **白色文字**: `text-white` (登录注册页面)

### 字体规范
> **重要**: 项目使用主题默认字体，不添加自定义font-size、font-weight、line-height类，除非用户特别要求。

#### 标题层级
- **一级标题**: 默认样式（用于页面主标题）
- **二级标题**: 默认样式（用于卡片标题）
- **三级标题**: 默认样式（用于小节标题）

### 圆角规范
| 尺寸 | Tailwind类 | 应用场景 |
|------|-----------|---------|
| 小圆角 | `rounded-lg` (8px) | 输入框、小按钮 |
| 中圆角 | `rounded-xl` (12px) | 性别选择按钮 |
| 大圆角 | `rounded-2xl` (16px) | 卡片、大容器 |
| 全圆角 | `rounded-full` | 主要操作按钮、头像 |

### 阴影规范
| 级别 | Tailwind类 | 应用场景 |
|------|-----------|---------|
| 轻阴影 | `shadow-sm` | 列表项、小卡片 |
| 标准阴影 | `shadow-md` | 按钮、输入框 |
| 重阴影 | `shadow-lg` | 重要按钮、弹窗 |
| 超重阴影 | `shadow-xl` | 欢迎页主按钮、容器 |

### 间距规范
- **页面边距**: `p-4` ~ `p-6` (16px ~ 24px)
- **卡片间距**: `space-y-3` ~ `space-y-4` (12px ~ 16px)
- **元素内边距**: `p-3` ~ `p-5` (12px ~ 20px)
- **底部安全距离**: `pb-20` ~ `pb-24` (避免被底部栏遮挡)

---

## 页面结构与导航

### 页面导航流程图

```
┌─────────────────┐
│   欢迎页面       │ (WelcomePage)
│  - 登录按钮      │
│  - 注册按钮      │
└────┬────────┬───┘
     │        │
     │        └──────────┐
     ▼                   ▼
┌─────────────┐    ┌──────────────┐
│  登录页面    │    │   注册页面    │
│ (LoginPage) │    │(RegisterPage) │
└──────┬──────┘    └───────┬──────┘
       │                    │
       │        ┌───────────┘
       │        │ (注册成功后)
       ▼        ▼
┌─────────────────────┐
│     主页面           │ (HomePage)
│  - 场馆预约          │
│  - 活动展示          │
│  - 公告通知          │
│  - 个人中心          │
└──┬──┬────┬─────┬───┘
   │  │    │     │
   │  │    │     └─────────────┐
   │  │    │                   ▼
   │  │    │            ┌──────────────┐
   │  │    │            │  个人中心页   │
   │  │    │            │(ProfilePage)  │
   │  │    │            └───┬──┬───┬───┘
   │  │    │                │  │   │
   │  │    │                │  │   └──────────┐
   │  │    │                │  │              ▼
   │  │    │                │  │     ┌─────────────────┐
   │  │    │                │  │     │  编辑个人信息    │
   │  │    │                │  │     │(EditProfilePage)│
   │  │    │                │  │     └─────────────────┘
   │  │    │                │  │
   │  │    │                │  └──────────┐
   │  │    │                │             ▼
   │  │    │                │     ┌────────────────────┐
   │  │    │                │     │   预约人登记页     │
   │  │    │                │     │(VisitorRegistration│
   │  │    │                │     │       Page)        │
   │  │    │                │     └────────────────────┘
   │  │    │                │
   │  │    │                └──────────┐
   │  │    │                           ▼
   │  │    │                   ┌────────────────┐
   │  │    │                   │  预约记录页     │
   │  │    │                   │(BookingRecord  │
   │  │    │                   │     Page)      │
   │  │    │                   └────────────────┘
   │  │    │
   │  │    └───────────────┐
   │  │                    ▼
   │  │            ┌──────────────┐
   │  │            │  公告列表页   │
   │  │            │(Announcement  │
   │  │            │     Page)     │
   │  │            └───────┬──────┘
   │  │                    │
   │  │                    ▼
   │  │            ┌──────────────────┐
   │  │            │   公告详情页      │
   │  │            │(AnnouncementDetail│
   │  │            │       Page)       │
   │  │            └──────────────────┘
   │  │
   │  └────────────────┐
   │                   ▼
   │           ┌──────────────┐
   │           │  活动列表页   │
   │           │(ActivityList  │
   │           │     Page)     │
   │           └───────┬──────┘
   │                   │
   │                   ▼
   │           ┌──────────────┐
   │           │  活动详情页   │
   │           │(ActivityDetail│
   │           │     Page)     │
   │           └──────────────┘
   │
   └──────────────┐
                  ▼
          ┌─────────────┐
          │  预约页面    │
          │(BookingPage) │
          └─────────────┘
```

### 页面列表（共13个页面）

| 序号 | 页面名称 | 文件名 | 路由标识 | 说明 |
|------|---------|--------|---------|------|
| 1 | 欢迎页 | WelcomePage.tsx | `welcome` | 应用启动页 |
| 2 | 登录页 | LoginPage.tsx | `login` | 用户登录 |
| 3 | 注册页 | RegisterPage.tsx | `register` | 用户注册 |
| 4 | 主页 | HomePage.tsx | `home` | 功能导航中枢 |
| 5 | 场馆预约页 | BookingPage.tsx | `booking` | 预约功能 |
| 6 | 活动列表页 | ActivityListPage.tsx | `activity` | 活动浏览 |
| 7 | 活动详情页 | ActivityDetailPage.tsx | `activityDetail` | 活动详细信息 |
| 8 | 公告列表页 | AnnouncementPage.tsx | `announcement` | 公告浏览 |
| 9 | 公告详情页 | AnnouncementDetailPage.tsx | `announcementDetail` | 公告详细信息 |
| 10 | 个人中心页 | ProfilePage.tsx | `profile` | 用户信息展示 |
| 11 | 编辑个人信息页 | EditProfilePage.tsx | `editProfile` | 修改个人信息 |
| 12 | 预约人登记页 | VisitorRegistrationPage.tsx | `visitorRegistration` | 管理预约人信息 |
| 13 | 预约记录页 | BookingRecordPage.tsx | `bookingRecord` | 查看预约历史 |

---

## 页面详细规范

### 1. 欢迎页面 (WelcomePage)

#### 功能描述
应用启动时的首屏页面，提供登录和注册入口。

#### 视觉设计
- **背景**: 纯天蓝色 `bg-sky-500`
- **布局**: 居中垂直布局
- **元素层次**: Logo → 标题 → 装饰图标 → 操作按钮

#### 页面元素

| 元素 | 样式 | 说明 |
|------|------|------|
| Logo | 白色圆形背景 (w-24 h-24)，内含天蓝色图标 | 博物馆盾牌图标 |
| 主标题 | text-3xl font-bold text-white | "博物馆预约系统" |
| 副标题 | text-base text-white | "探索千年文化 · 感悟历史变革" |
| 装饰图标 | 🏛️ 🎨 📚 | 三个图标横向排列 |
| 登录按钮 | 白色背景，天蓝色文字，圆角矩形 | 主要操作 |
| 注册按钮 | 半透明白色背景，白色边框和文字 | 次要操作 |
| 版本信息 | text-sm text-white/70 | 底部固定显示 |

#### 交互行为
- **点击登录按钮**: 跳转到登录页面
- **点击注册按钮**: 跳转到注册页面

---

### 2. 登录页面 (LoginPage)

#### 功能描述
用户登录验证页面，输入用户名和密码进行登录。

#### 视觉设计
- **背景**: 蓝色渐变 `bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800`
- **布局**: 顶部返回按钮 + 居中表单
- **效果**: 毛玻璃效果输入框

#### 页面元素

| 元素 | 样式 | 说明 |
|------|------|------|
| 返回按钮 | 左上角，白色图标 | 返回欢迎页 |
| Logo | 白色圆形背景 (w-20 h-20) | 蓝色盾牌图标 |
| 页面标题 | text-3xl font-bold text-white | "欢迎回来" |
| 副标题 | text-blue-100 | "登录您的博物馆账号" |
| 用户名输入框 | 半透明白色背景，带用户图标 | User icon + 输入框 |
| 密码输入框 | 半透明白色背景，带锁图标和显示/隐藏按钮 | Lock icon + 输入框 + Eye icon |
| 忘记密码链接 | text-white/80 text-sm | 右对齐 |
| 登录按钮 | 白色背景，蓝色文字，全圆角 | py-4 rounded-full |
| 注册提示 | text-white/60 | "还没有账号？立即注册" |

#### 表单验证
- 用户名不能为空
- 密码不能为空
- 登录成功后Toast提示"登录成功！"
- 1.5秒后跳转到主页

#### 交互行为
- **返回按钮**: 返回欢迎页
- **密码显示/隐藏**: 切换密码可见性
- **登录按钮**: 验证并登录
- **注册提示**: 返回欢迎页（可选择注册）

---

### 3. 注册页面 (RegisterPage)

#### 功能描述
新用户注册页面，填写完整个人信息并创建账号。

#### 视觉设计
- **背景**: 纯天蓝色 `bg-sky-500`
- **布局**: 可滚动垂直表单
- **效果**: 半透明白色输入框

#### 页面元素

| 元素 | 样式 | 验证规则 |
|------|------|---------|
| 返回按钮 | 左上角白色图标 | - |
| 页面标题 | text-2xl font-bold text-white | - |
| 用户名输入框 | bg-white/20，白色文字 | 不能为空 |
| 性别选择 | 两个切换按钮（男/女） | 必选 |
| 头像选择 | 12个表情网格，6列2行 | 必选 |
| 手机号输入框 | bg-white/20，限制11位 | 必须11位 |
| 密码输入框 | bg-white/20，带显示/隐藏 | 至少6位 |
| 确认密码输入框 | bg-white/20，带显示/隐藏 | 必须与密码一致 |
| 注册按钮 | 白色背景，天蓝色文字 | - |
| 登录提示 | text-white/80 | "已有账号？立即登录" |

#### 头像选项
```
['👨', '👩', '👦', '👧', '🧑', '👴', '👵', '🧔', '👨‍💼', '👩‍💼', '👨‍🎓', '👩‍🎓']
```

#### 表单验证流程
1. 检查用户名是否填写
2. 检查性别是否选择
3. 检查头像是否选择
4. 检查手机号是否填写且为11位
5. 检查密码长度是否至少6位
6. 检查确认密码是否填写
7. 检查两次密码是否一致
8. 注册成功后Toast提示
9. 2秒后跳转到登录页

#### 交互行为
- **返回按钮**: 返回欢迎页
- **性别按钮**: 切换选中状态
- **头像选择**: 单选，带缩放效果
- **密码显示/隐藏**: 独立控制两个密码框
- **注册按钮**: 验证并注册
- **登录提示**: 跳转到登录页

---

### 4. 主页面 (HomePage)

#### 功能描述
登录后的主页，提供四大功能模块入口和轮播展示。

#### 视觉设计
- **背景**: 白色背景
- **布局**: 轮播图 + 四宫格导航
- **顶部**: 欢迎标语和通知图标

#### 页面结构

```
┌──────────────────────┐
│  博物馆预约系统  🔔   │ ← 顶部标题栏
├──────────────────────┤
│                      │
│   轮播图区域          │ ← 活动轮播
│   (3张图片自动轮播)   │
│                      │
├──────────────────────┤
│  ┌────┐  ┌────┐     │
│  │场馆│  │活动│     │ ← 功能导航
│  │预约│  │展示│     │   (2x2网格)
│  └────┘  └────┘     │
│  ┌────┐  ┌────┐     │
│  │博物│  │个人│     │
│  │公告│  │中心│     │
│  └────┘  └────┘     │
└──────────────────────┘
```

#### 轮播图规范
- **尺寸**: h-48 (192px高度)
- **圆角**: rounded-2xl
- **指示器**: 底部圆点，当前项蓝色，其他白色半透明
- **切换**: 自动轮播，3秒/张

#### 导航卡片规范
| 功能 | 图标 | 背景色 | 点击跳转 |
|------|------|--------|---------|
| 场馆预约 | Calendar | bg-blue-500 | booking |
| 活动展示 | Sparkles | bg-purple-500 | activity |
| 博物公告 | Bell | bg-orange-500 | announcement |
| 个人中心 | User | bg-green-500 | profile |

#### 交互行为
- **轮播图**: 自动播放，可手动点击指示器切换
- **功能卡片**: 点击跳转到对应功能页面

---

### 5. 场馆预约页面 (BookingPage)

#### 功能描述
选择场馆、日期、时段和预约人进行预约。

#### 页面流程
1. 选择场馆（单选）
2. 选择日期（日历选择器）
3. 选择时段（上午/下午）
4. 选择预约人（可多选，最多5人）
5. 同意须知
6. 提交预约

#### 场馆列表
- 历史文化馆
- 艺术展览馆
- 科技体验馆
- 自然博物馆

#### 时段选项
- 上午场: 09:00-12:00 (限额：200人)
- 下午场: 14:00-17:00 (限额：200人)

#### 预约须知（部分）
1. 参观当日请携带有效证件
2. 请提前15分钟到达
3. 馆内禁止吸烟、饮食
4. 请爱护文物展品

#### 表单验证
- 必须选择场馆
- 必须选择日期
- 必须选择时段
- 至少选择1名预约人
- 最多选择5名预约人
- 必须同意预约须知

#### 交互行为
- **返回按钮**: 返回主页
- **场馆选择**: 单选卡片，带选中样式
- **日期选择**: 不可选择过去日期
- **时段选择**: 单选卡片，显示剩余名额
- **预约人选择**: 多选，显示已选数量
- **提交按钮**: 验证后生成预约记录，Toast提示，跳转主页

---

### 6. 活动列表页面 (ActivityListPage)

#### 功能描述
浏览博物馆活动，包含轮播推荐和列表展示。

#### 页面结构
- **顶部**: 导航栏
- **轮播区**: 3张活动海报轮播
- **活动列表**: 卡片式列表

#### 活动数据结构
```typescript
{
  id: number;
  title: string;
  date: string;
  location: string;
  participants: number;
  image: string;
}
```

#### 活动列表示例
1. 古代青铜器特展
2. 丝绸之路主题展
3. 近代历史文物展
4. 书画艺术鉴赏
5. 陶瓷文化展览

#### 交互行为
- **返回按钮**: 返回主页
- **轮播图**: 自动播放
- **活动卡片**: 点击跳转到活动详情页

---

### 7. 活动详情页面 (ActivityDetailPage)

#### 功能描述
展示活动详细信息，采用微信推文风格布局。

#### 页面结构
```
┌──────────────────────┐
│   ✕          ⋯       │ ← 顶部操作栏
├──────────────────────┤
│  [标签]               │
│  活动标题             │
│  发布信息             │
├──────────────────────┤
│                      │
│  正文内容             │
│  - 段落               │
│  - 列表               │
│  - 强调框             │
│  - 图片               │
│                      │
├──────────────────────┤
│  💬  ⭐  [分享]      │ ← 底部操作栏
└──────────────────────┘
```

#### 元信息显示
- 来源：博物馆官方
- 日期：发布日期
- 分类：活动类型

#### 内容排版
- **段落**: 正文采用合适行高
- **标题**: 层级分明
- **列表**: 带蓝色圆点
- **强调框**: 蓝色背景高亮
- **提示框**: 琥珀色边框

#### 交互行为
- **关闭按钮**: 返回活动列表
- **更多按钮**: 更多操作（预留）
- **评论**: 评论功能（预留）
- **收藏**: 收藏功能（预留）
- **分享**: 分享功能（预留）

---

### 8. 公告列表页面 (AnnouncementPage)

#### 功能描述
查看博物馆官方公告通知。

#### 公告数据结构
```typescript
{
  id: number;
  title: string;
  date: string;
  type: '紧急通知' | '系统公告' | '温馨提示' | '活动通知';
  content: string;
}
```

#### 公告类型标签
| 类型 | 颜色 | 样式 |
|------|------|------|
| 紧急通知 | 红色 | bg-red-50 text-red-600 border-red-200 |
| 系统公告 | 蓝色 | bg-blue-50 text-blue-600 border-blue-200 |
| 温馨提示 | 黄色 | bg-yellow-50 text-yellow-600 border-yellow-200 |
| 活动通知 | 绿色 | bg-green-50 text-green-600 border-green-200 |

#### 公告列表示例
1. 春节期间开放时间调整通知
2. 系统维护公告
3. 预约流程优化说明
4. 新展厅即将开放

#### 交互行为
- **返回按钮**: 返回主页
- **公告卡片**: 点击跳转到公告详情页

---

### 9. 公告详情页面 (AnnouncementDetailPage)

#### 功能描述
展示公告详细内容，参考活动详情页风格。

#### 页面结构
与活动详情页类似，采用微信推文风格。

#### 内容组件
- **标签**: 公告类型标签
- **标题**: 公告标题
- **元信息**: 发布部门、日期、分类
- **正文**: 富文本内容
  - 开头问候语（渐变背景）
  - 信息列表（蓝色背景）
  - 温馨提示（琥珀色边框）
  - 落款（右对齐）

#### 交互行为
- **关闭按钮**: 返回公告列表
- **评论、收藏、分享**: 与活动详情页相同

---

### 10. 个人中心页面 (ProfilePage)

#### 功能描述
展示用户信息和功能入口。

#### 页面结构
```
┌──────────────────────┐
│  [蓝色渐变背景]       │
│  👤  用户名            │
│  点击编辑个人信息     │
├──────────────────────┤
│  📊 我的数据          │
│   预约次数   预约人数 │
│     12         5     │
├──────────────────────┤
│  ⚙️ 功能入口          │
│  > 预约人登记         │
│  > 预约记录           │
├──────────────────────┤
│  [退出登录按钮]       │
└──────────────────────┘
```

#### 数据统计
- **预约次数**: 历史预约总数
- **预约人数**: 已登记预约人总数

#### 功能菜单
| 功能 | 图标 | 跳转页面 |
|------|------|---------|
| 预约人登记 | Users | visitorRegistration |
| 预约记录 | FileText | bookingRecord |

#### 交互行为
- **返回按钮**: 返回主页
- **头像/用户名区域**: 点击跳转到编辑个人信息页
- **预约人登记**: 跳转到预约人管理
- **预约记录**: 跳转到预约历史
- **退出登录**: 清空用户状态，返回欢迎页

---

### 11. 编辑个人信息页面 (EditProfilePage)

#### 功能描述
修改个人基本信息和密码。

#### 可编辑字段
1. **头像**: 12个表情可选
2. **用户名**: 文本输入
3. **性别**: 男/女切换
4. **手机号**: 11位数字
5. **密码**: 弹窗修改（需验证原密码）

#### 页面分区
- **头像区**: 网格选择器
- **基本信息区**: 用户名、性别、手机号
- **账号安全区**: 修改密码入口
- **保存按钮**: 底部固定

#### 密码修改弹窗
- **原密码**: 必填
- **新密码**: 必填，至少6位
- **确认新密码**: 必填，需一致
- **验证逻辑**: 
  1. 验证原密码
  2. 验证新密码长度
  3. 验证两次输入一致
  4. 成功后Toast提示，关闭弹窗

#### 表单验证
- 用户名不能为空
- 手机号必须11位
- 保存成功后Toast提示
- 2秒后返回个人中心

#### 交互行为
- **返回按钮**: 返回个人中心
- **头像选择**: 单选，带选中样式
- **性别切换**: 单选按钮
- **修改密码**: 打开弹窗
- **保存按钮**: 验证并保存，更新全局状态

---

### 12. 预约人登记页面 (VisitorRegistrationPage)

#### 功能描述
管理预约人信息，支持增删改查。

#### 页面结构
```
┌──────────────────────┐
│  < 预约人登记  [+]    │ ← 顶部导航
├──────────────────────┤
│  预约人列表 (5)       │
│  ┌────────────────┐  │
│  │ 张三  男  关系  │  │
│  │ 138****1234    │  │
│  │ [编辑] [删除]  │  │
│  └────────────────┘  │
│  ...                 │
└──────────────────────┘
```

#### 预约人数据结构
```typescript
{
  id: number;
  name: string;
  idCard: string; // 身份证号
  phone: string;
  gender: '男' | '女';
  relation: string; // 关系（本人/家人/朋友等）
}
```

#### 关系选项
- 本人
- 配偶
- 子女
- 父母
- 朋友
- 其他

#### 表单验证
- 姓名不能为空
- 身份证号必须18位
- 手机号必须11位
- 性别必选
- 关系必选

#### 交互行为
- **返回按钮**: 返回个人中心
- **添加按钮**: 打开添加预约人弹窗/表单
- **编辑按钮**: 打开编辑弹窗，预填数据
- **删除按钮**: 确认后删除，Toast提示

---

### 13. 预约记录页面 (BookingRecordPage)

#### 功能描述
查看历史预约记录，支持查看二维码和取消预约。

#### 预约状态
| 状态 | 颜色 | 说明 |
|------|------|------|
| 待使用 | 橙色 | 预约未到期 |
| 已完成 | 绿色 | 已完成参观 |
| 已取消 | 红色 | 用户取消 |
| 已过期 | 灰色 | 未使用且过期 |

#### 预约记录数据结构
```typescript
{
  id: number;
  venueName: string; // 场��名称
  date: string; // 预约日期
  timeSlot: string; // 时段
  visitors: string[]; // 预约人列表
  status: '待使用' | '已完成' | '已取消' | '已过期';
  qrCode?: string; // 二维码数据
}
```

#### 二维码弹窗
- **展示内容**: 预约二维码
- **附加信息**: 
  - 场馆名称
  - 预约日期
  - 预约人数
  - 提示文字
- **关闭方式**: 点击背景或关闭按钮

#### 交互行为
- **返回按钮**: 返回个人中心
- **记录卡片**: 
  - 待使用状态：显示"查看二维码"和"取消预约"按钮
  - 其他状态：仅显示信息
- **查看二维码**: 打开二维码弹窗
- **取消预约**: 确认后更新状态为"已取消"，Toast提示

---

## 数据结构

### 用户信息 (UserProfile)
```typescript
interface UserProfile {
  username: string;      // 用户名
  gender: 'male' | 'female';  // 性别
  phone: string;         // 手机号
  avatar: string;        // 头像表情
}
```

### 预约人信息 (Visitor)
```typescript
interface Visitor {
  id: number;           // 唯一ID
  name: string;         // 姓名
  idCard: string;       // 身份证号
  phone: string;        // 手机号
  gender: '男' | '女';   // 性别
  relation: string;     // 关系
}
```

### 预约记录 (BookingRecord)
```typescript
interface BookingRecord {
  id: number;           // 预约ID
  venueName: string;    // 场馆名称
  date: string;         // 预约日期
  timeSlot: string;     // 时段
  visitors: string[];   // 预约人姓名列表
  status: '待使用' | '已完成' | '已取消' | '已过期';
  qrCode?: string;      // 二维码
}
```

### 活动信息 (Activity)
```typescript
interface Activity {
  id: number;           // 活动ID
  title: string;        // 活动标题
  date: string;         // 活动日期
  location: string;     // 活动地点
  participants: number; // 参与人数
  image: string;        // 封面图
}
```

### 公告信息 (Announcement)
```typescript
interface Announcement {
  id: number;           // 公告ID
  title: string;        // 公告标题
  date: string;         // 发布日期
  type: '紧急通知' | '系统公告' | '温馨提示' | '活动通知';
  content: string;      // 公告内容摘要
}
```

---

## 交互规范

### 通用交互

#### 页面切换
- **动画**: 无过渡动画，即时切换
- **状态保持**: 返回时保持滚动位置
- **加载状态**: 无loading，数据即时显示

#### 按钮交互
- **hover效果**: 
  - 颜色加深 (`hover:bg-blue-700`)
  - 阴影增强 (`hover:shadow-lg`)
  - 缩放效果 (`hover:scale-105`)
- **点击反馈**: 
  - Toast消息提示
  - 状态即时更新

#### 表单交互
- **输入框焦点**: 
  - 边框颜色变化 (`focus-within:border-blue-500`)
  - 添加环形高亮 (`focus-within:ring-1`)
- **验证时机**: 
  - 提交时验证
  - 实时验证（手机号、身份证）
- **错误提示**: 
  - Toast红色错误提示
  - 字段下方显示错误文字（可选）

#### Toast通知规范
- **位置**: `top-center`
- **类型**: 
  - `toast.success()` - 成功操作
  - `toast.error()` - 错误提示
  - `toast.info()` - 信息提示
- **时长**: 
  - 默认 2000ms
  - 重要操作 1500ms
- **样式**: `richColors` 启用

### 滚动行为
- **可滚动页面**: 添加 `overflow-y-auto` 类
- **滚动条**: 系统默认滚动条
- **顶部固定**: 导航栏使用 `sticky top-0`
- **底部安全距离**: `pb-20` ~ `pb-24` 避免遮挡

### 弹窗交互
- **背景遮罩**: `bg-black/50`
- **弹窗定位**: `fixed inset-0` 居中
- **关闭方式**: 
  - 点击关闭按钮
  - 点击背景遮罩（可选）
- **内容滚动**: 弹窗内容可滚动 (`max-h-[90vh] overflow-y-auto`)

### 选择器交互

#### 单选卡片
- **默认状态**: 灰色背景，灰色边框
- **选中状态**: 蓝色背景，白色文字，无边框
- **hover效果**: 边框颜色加深

#### 多选卡片
- **默认状态**: 白色背景，灰色边框
- **选中状态**: 蓝色边框，蓝色勾选图标
- **hover效果**: 边框颜色加深

#### 头像选择器
- **默认状态**: 灰色背景圆形
- **选中状态**: 白色背景/蓝色背景，缩放1.1倍
- **hover效果**: 背景颜色加深

---

## 响应式设计

### 容器尺寸
- **最大宽度**: `max-w-md` (448px)
- **水平居中**: `mx-auto`
- **全高**: `h-full` / `min-h-screen`

### 移动端适配
- **触摸目标**: 最小 44x44px
- **按钮高度**: `py-3` ~ `py-4` (12px ~ 16px)
- **图标尺寸**: `w-5 h-5` ~ `w-6 h-6` (20px ~ 24px)

### 字体缩放
- 使用主题默认字体尺寸
- 避免固定字号，使用语义化HTML标签

---

## 状态管理

### 全局状态 (App.tsx)
```typescript
// 页面路由
const [currentPage, setCurrentPage] = useState<PageType>('welcome');

// 当前用户
const [currentUser, setCurrentUser] = useState<string>('');

// 用户资料
const [userProfile, setUserProfile] = useState<UserProfile>({
  username: '查理苏',
  gender: 'male',
  phone: '138****5678',
  avatar: '👨',
});

// 选中的活动/公告ID
const [selectedActivityId, setSelectedActivityId] = useState<number>(1);
const [selectedAnnouncementId, setSelectedAnnouncementId] = useState<number>(1);
```

### 本地状态
每个页面组件管理自己的表单状态：
- 输入框值
- 选择状态
- 弹窗显示状态
- 密码可见性

---

## 图标使用规范

### 图标库
使用 `lucide-react` 图标库

### 常用图标映射
| 功能 | 图标名称 | 组件 |
|------|---------|------|
| 用户 | User | `<User />` |
| 电话 | Phone | `<Phone />` |
| 锁 | Lock | `<Lock />` |
| 眼睛 | Eye / EyeOff | `<Eye />` `<EyeOff />` |
| 日历 | Calendar | `<Calendar />` |
| 铃铛 | Bell | `<Bell />` |
| 闪光 | Sparkles | `<Sparkles />` |
| 退出 | LogOut | `<LogOut />` |
| 文件 | FileText | `<FileText />` |
| 用户组 | Users | `<Users />` |
| 更多 | MoreHorizontal | `<MoreHorizontal />` |
| 关闭 | X | `<X />` |

### 图标尺寸规范
- **小图标**: `w-4 h-4` (16px)
- **标准图标**: `w-5 h-5` (20px)
- **大图标**: `w-6 h-6` (24px)

---

## 测试用例

### 登录注册流程
1. 启动应用 → 显示欢迎页
2. 点击注册 → 填写完整信息 → 注册成功 → 跳转登录页
3. 输入用户名密码 → 登录成功 → 进入主页
4. 退出登录 → 返回欢迎页

### 预约流程
1. 主页点击场馆预约
2. 选择场馆
3. 选择日期（明天）
4. 选择时段
5. 选择预约人（至少1人）
6. 同意须知
7. 提交预约 → 成功提示 → 返回主页
8. 个人中心 → 预约记录 → 查看二维码

### 个人信息管理
1. 主页 → 个人中心
2. 点击头像区域 → 编辑个人信息页
3. 修改用户名
4. 修改头像
5. 修改性别
6. 修改手机号
7. 点击修改密码 → 填写原密码、新密码、确认密码 → 确认
8. 保存修改 → 返回个人中心 → 信息已更新

### 预约人管理
1. 个人中心 → 预约人登记
2. 点击添加 → 填写预约人信息 → 保存
3. 编辑预约人 → 修改信息 → 保存
4. 删除预约人 → 确认删除

---

## 附录

### 开发环境
- **Node.js**: v18+
- **包管理器**: pnpm
- **React版本**: 18.x
- **TypeScript**: 5.x

### 第三方依赖
```json
{
  "react": "^18.x",
  "sonner": "^1.x",
  "lucide-react": "latest",
  "tailwindcss": "^4.0"
}
```

### 文件结构
```
/src
  /app
    App.tsx                           # 主应用入口
    /components
      WelcomePage.tsx                 # 欢迎页
      LoginPage.tsx                   # 登录页
      RegisterPage.tsx                # 注册页
      HomePage.tsx                    # 主页
      BookingPage.tsx                 # 预约页
      ActivityListPage.tsx            # 活动列表
      ActivityDetailPage.tsx          # 活动详情
      AnnouncementPage.tsx            # 公告列表
      AnnouncementDetailPage.tsx      # 公告详情
      ProfilePage.tsx                 # 个人中心
      EditProfilePage.tsx             # 编辑个人信息
      VisitorRegistrationPage.tsx     # 预约人登记
      BookingRecordPage.tsx           # 预约记录
  /styles
    theme.css                         # 主题样式
    fonts.css                         # 字体配置
```

### 未来扩展
- [ ] 实际后端API集成
- [ ] 用户数据持久化（localStorage/数据库）
- [ ] 图片上传功能
- [ ] 支付功能
- [ ] 消息推送
- [ ] 多语言支持
- [ ] 深色模式
- [ ] 数据统计图表

---

## 文档修订记录

| 版本 | 日期 | 修订内容 | 作者 |
|------|------|---------|------|
| v1.0 | 2024-12-25 | 初始版本，完整系统规范 | AI Assistant |

---

**文档结束**

*本文档为博物馆预约系统的完整原型规范，包含所有页面、交互、设计规范的详细说明。*
